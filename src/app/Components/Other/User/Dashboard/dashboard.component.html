<app-header></app-header>
<div class="container">
    <div class="row">
        <div class="col-12">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="navbar-brand">
                    <a class="logo navbar-brand"><strong class="backcolor"><i class="fas fa-hashtag me-3 ms-3"></i></strong></a>
                </div>
                <ul class="navbar-nav me-auto">
                    <li class="nav-item nav-link">{{ 'components.dashboard.linkedaccounts' | translate }}
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link me-5 ms-5">+ {{ 'components.dashboard.addaccount' | translate }}</a>
                    </li>
                </ul>
            </nav>
            <!-- LISTA KONT  -->
            <div class="table-responsive">
                <table *ngIf="this.DataService.Accounts != null; else loading" class="table table-striped table-dark">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">{{ 'components.dashboard.accountdetails' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.login' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.password' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.monthlygain' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.dailygain' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.currentfollowers' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.statusaccount' | translate }}</th>
                            <th scope="col">{{ 'components.dashboard.deleteaccount' | translate }}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let account of this.DataService.Accounts; let i = index">
                            <th scope="row">{{ i }}</th>
                            <td>
                                <button routerLink="/account/{{i}}" type="button" class="btn btn-sm btn-light">{{ 'components.dashboard.accountdetailsenter' | translate }}</button>
                            </td>
                            <td>{{ account.login }}</td>
                            <td>{{ account.password }}</td>
                            <td>{{ (account.monthfollowers-account.currentfollowers) }}</td>
                            <td>{{ (account.dayfollowers-account.currentfollowers) }}</td>
                            <td>{{ account.currentfollowers }}</td>
                            <td><i (click)="this.InstagramService.ChangeAccountStatus(account.id, !(account.enabled))" [className]="account.enabled ? 'fas fa-toggle-on text-success' : 'fas fa-toggle-off text-secondary'"></i></td>
                            <td><i (click)="this.InstagramService.DeleteAccount(account.id)" class="text-danger fas fa-minus-circle"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<ng-template #loading>
    <div class="loading">        
        <div class="spinner-border text-warning" role="status"></div>
    </div>
</ng-template>